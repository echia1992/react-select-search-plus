import{__awaiter as e}from"../../../node_modules/tslib/tslib.es6.js";import t,{useState as l,useRef as r,useEffect as n,useCallback as o}from"react";function a({options:a=[],value:s=[],onChange:i,onSearch:c,multiple:d=!1,disabled:u=!1,loading:m=!1,searchPlaceholder:b="Type to search...",noOptionsMessage:p="No options found",loadingMessage:g="Loading...",className:f="",optionClassName:h="",selectedClassName:x="",fetchOptions:y,customFilter:v,maxSelected:w}){const[N,E]=l(a),[C,k]=l(s),[L,$]=l(""),[F,M]=l(!1),O=r(null);n((()=>{(()=>{e(this,void 0,void 0,(function*(){if(y)try{const e=yield y();E(e)}catch(e){console.error("Error fetching options:",e),E([])}}))})()}),[y]),n((()=>{const e=e=>{O.current&&!O.current.contains(e.target)&&M(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const S=o(((e,t)=>v?v(e,t):e.label.toLowerCase().includes(t.toLowerCase())),[v]),j=L?N.filter((e=>S(e,L))):N;return t.createElement("div",{ref:O,className:`relative w-full font-sans ${f}`},t.createElement("div",{className:"relative border border-gray-300 rounded-md bg-white transition duration-200 focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500 "+(u?"bg-gray-100 cursor-not-allowed":"")},t.createElement("div",{className:"flex flex-wrap gap-1 p-1 min-h-[2.5rem]"},C.map((e=>t.createElement("span",{key:e.id,className:`inline-flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm truncate ${x}`},e.label,t.createElement("button",{type:"button",onClick:()=>(e=>{if(u)return;const t=C.filter((t=>t.id!==e));k(t),null==i||i(t)})(e.id),className:"ml-1 p-0.5 bg-none border-none text-blue-800 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:u,"aria-label":`Remove ${e.label}`},"Ã—")))),t.createElement("input",{type:"text",value:L,onChange:e=>{const t=e.target.value;$(t),null==c||c(t),M(!0)},onFocus:()=>M(!0),placeholder:b,disabled:u,className:"flex-1 min-w-[120px] border-none outline-none px-2 py-1 text-sm bg-transparent placeholder-gray-400 disabled:cursor-not-allowed"}))),F&&!u&&t.createElement("ul",{className:"absolute top-full left-0 right-0 z-10 mt-1 p-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},m?t.createElement("li",{className:"p-3 text-center text-gray-500 text-sm"},t.createElement("span",{className:"inline-block w-4 h-4 mr-2 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),g):j.length>0?j.map((e=>t.createElement("li",{key:e.id,onClick:()=>(e=>{if(u)return;let t;if(d){if(w&&C.length>=w)return;t=C.some((t=>t.id===e.id))?C:[...C,e]}else t=[e],M(!1);k(t),null==i||i(t),$("")})(e),className:`px-3 py-2 cursor-pointer text-sm text-gray-700 hover:bg-gray-100 ${C.some((t=>t.id===e.id))?"bg-blue-100 text-blue-800":""} ${h}`,role:"option","aria-selected":C.some((t=>t.id===e.id))},e.label))):t.createElement("li",{className:"p-3 text-center text-gray-500 text-sm"},p)))}export{a as default};
//# sourceMappingURL=index.js.map
